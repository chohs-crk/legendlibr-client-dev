/* ===============================
   THEME VARIABLES (PURE)
=============================== */
:root {
    --bg-main: #0D0A12;
    --bg-card: #1B1928;
    --bg-card-hover: #232033;
    --text-main: #EDEAFF;
    --text-sub: #9A96B8;
    --accent: #6C5CE7;
    --accent-hover: #7E6BFF;
    --radius: 14px;
    --shadow: 0 3px 12px rgba(0,0,0,0.35);
}


/* ===============================
   RESET
=============================== */
* {
    box-sizing: border-box;
}

html, body {
    width: 100%;
    height: 100%;
    margin: 0;
}

body {
    font-family: "Pretendard", sans-serif;
    color: var(--text-main);
    overflow-x: hidden;
    background: radial-gradient( circle at center, #151126 0%, #09070d 70%, #050408 100% );
}


/* ===============================
   GLOBAL BACKGROUND
=============================== */
.bg-root {
    position: relative;
    width: 100%;
    min-height: 100dvh; /* 🔥 100dvh → min-height로 변경 */
}

/* 배경 프레임은 app 기준 중앙 */
.bg-frame {
    position: fixed;
    inset: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 420px;
    z-index: 0;
    background-image: url("/images/base/purple-frameb.png");
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    pointer-events: none;
}


/* ===============================
   APP CONTAINER
=============================== */

.app {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 420px; /* ← 데스크탑 여부와 상관없이 강제 적용 */
    margin: 0 auto;
    height: 100dvh;
    /* 🔥 핵심 변경점: X축 확장 금지 */
    overflow-x: hidden;
    /* overflow-y: hidden; 기존 overflow: hidden 유지 */

    display: flex;
    flex-direction: column;
    background: transparent;
}

    /* 내부 요소가 폭 초과 못 하도록 보호막 */
    .app * {
        max-width: 100%;
        box-sizing: border-box;
    }



/* ===============================
   MAIN CONTENT STRUCTURE
=============================== */
.content {
    flex: 1;

    display: flex;
    flex-direction: column;
    background: transparent;
}

/* page-body가 필요한 화면용 */
.page-body {
    flex: 1;
  
    display: flex;
    flex-direction: column;
}


/* ===============================
   SCROLL AREA (NO CHROME PADDING)
=============================== */

/* 스크롤 컨테이너가 체인으로 바깥으로 튀지 않게 */
.scroll-area {

    -webkit-overflow-scrolling: touch;
}
.scroll-area {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

/* ===============================
   SCROLL AREA - SCROLLBAR HIDDEN
=============================== */
.scroll-area {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    /* Firefox */
    scrollbar-width: none;
}

    /* Chrome / Edge / Safari */
    .scroll-area::-webkit-scrollbar {
        display: none;
    }



/* ===============================
   UTIL / BLOCK
=============================== */
.bar {
    height: 12px;
}

/* PLAIN DIALOG 기본 위치 */
.plain-dialog {
    position: fixed;
    inset: 0;
}
/* ===============================
   TEXT FLOW (KOREAN SAFE)
=============================== */
.text-flow {
    word-break: keep-all;
    overflow-wrap: break-word;
    white-space: normal;
}
/* ===============================
   PTR BASE SCROLL EXTENSION
   (PURE CONTENT 기준 +20%)
=============================== */

.scroll-area::before {
    content: "";
    display: block;
    flex-shrink: 0;
    height: 20px !important;
}

.scroll-area::after {
    content: "";
    display: block;
    flex-shrink: 0;
    height: 30px !important;
}
.page,
.content,
.page-body {
    min-height: 0;
    /* overflow: hidden; ← 삭제 */
    overflow: visible;
}
/* 기존 코드 (character-view.css에 이미 있음) */
.story-em {
    color: var(--accent);
    font-weight: 600;
}

/* ✅ 추가: story-parser.js가 생성하는 클래스들 */
.story-talk {
    color: #ffd6f5;
    font-weight: 600;
    text-shadow: 0 0 10px rgba(255, 120, 220, 0.25);
}

.story-skill {
    color: #caa7ff;
    font-weight: 700;
    padding: 1px 6px;
    border-radius: 8px;
    border: 1px solid rgba(143, 75, 255, 0.55);
    background: rgba(20, 18, 33, 0.55);
    box-shadow: 0 2px 8px rgba(120, 60, 255, 0.18);
    white-space: nowrap; /* 스킬명 뭉개짐 방지(선택) */
}
