기본 전투 로직

전투 계산 방식

hp 계산은 다음을 바탕으로 한다 
기본값 100 willscore*3, charmscore*3, worldscore*3 narrativescore 1~8까진 *2.5 9와10은 20 고정 rulebreak,dominant, meta score은 각각 1~5까지는0 6부턴 -1.35*e의 0.9(score-5)제곱 

데미지 계산은 스킬 데미지와 누적 데미지로 나뉜다 데미지계산 (20+power)*(1+0.2log(combatscore))*(10+T의 개수)/(10+F의 개수)*1.1의 (턴 수-1)제곱 

누적 데미지 계산은 약간 어렵다 
각각 effect는 기본적으로 1개~2개이만 턴 수, T F 여부, 전장 요소인지 캐릭터에 주는 요소인지에 따라 나눈다 

a에게 긍정적인 것들 계산 총합 AP A 부정 AN b 긍정 BP b 부정 BN 

예시로 effect중 A에게 긍정적인 것 총합을 구해보자 AA 인것과 CA인것이다 이중 F인 것들은 0.5 

 지속턴수는 (1+현재 턴-효과가 생성된 턴, 즉 스킬을 사용했던 턴) 지속턴수가 턴수를 넘으면 예를들어 지속턴수 3 턴수 2이면 계산 대신 삭제

 AA는 기본값 1 CA는 0.5 이런 식으로 각각을 구한다 

AP AN BP BN은 각각 3을 넘기면 3으로 값을 고정한다 

AP는 

이후 누적뎀을 계산 
AP에는 A의 supportscore AN에는 B의 combatscore B의 경우는 반대로

예시로 A 누적뎀은 
20/(6+(1+0.2log(supportscore))*AP)*(6+(1+0.2log(combatscore))*AN)*(1.1)의 (턴 수-1)제곱

유저 선택에 따라 스킬을 고르면 스킬데미지와 효과를 받고 그걸로 누적뎀 계산
각각 스킬의 효과는 0~2개 3개 이상이면 3개부턴 무시하고 2개까지만 추가한다

일단 전투 과정 확인과 디버깅, 개선을 위해 ai 호출은 이후에 하지 않고 수치를 ui에 표시
추후 실제 계산 과정 숨기고 대신 ai 로그로 처리

턴 수는 최대 3턴까지 지속(서막은 포함 x하고)
3턴까지 계산이 끝났거나, 한 쪽 이상의 체력이 0 이하가 된 경우 남은 체력의 절대적인 수치가 더 높은 쪽 승리 판정(비율 x)

턴 가중치
1턴 합 1 
2턴 합 1.1
3턴 합 1.2
각각 턴에 배분 비율 정수값 입력받고 현재턴/전체턴

스킬 선택 스코어
각각 스킬이 턴에 어울리는 정도
각각 스킬에 배분 비율 정수값 입력받고 현재스킬*3/전체스킬=a
(4+a)5